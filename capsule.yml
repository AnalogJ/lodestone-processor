---
engine_enable_code_mutation: true

engine_cmd_compile:
  - 'GOOS=linux GARCH=amd64 CGO_ENABLED=0 go build -a -installsuffix cgo -ldflags "-X main.goos=linux -X main.goarch=amd64 -extldflags \"-static\"" -o lodestone-document-processor-linux-amd64 ./cmd/document-processor/document-processor.go'
  - 'GOOS=linux GARCH=amd64 CGO_ENABLED=0 go build -a -installsuffix cgo -ldflags "-X main.goos=linux -X main.goarch=amd64 -extldflags \"-static\"" -o lodestone-thumbnail-processor-linux-amd64 ./cmd/thumbnail-processor/thumbnail-processor.go'
engine_cmd_test: 'go test -v ./...'
engine_disable_lint: true

mgr_keep_lock_file: true
scm_enable_branch_cleanup: true

scm_release_assets:
  - local_path: lodestone-document-processor-linux-amd64
    artifact_name: lodestone-document-processor-linux-amd64
  - local_path: lodestone-thumbnail-processor-linux-amd64
    artifact_name: lodestone-thumbnail-processor-linux-amd64
